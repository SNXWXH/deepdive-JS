# chap12

## 📘 제12장: 함수

자바스크립트에서 **함수는 일급 객체이면서 실행 단위인 코드 블록**이다.

코드의 구조화, 재사용, 유지보수, 모듈화 등에서 핵심적인 역할을 하며,

다른 고급 개념들(스코프, 클로저, this, 실행 컨텍스트 등)과도 밀접하게 연관되어 있다.

---

### 1. 함수란 무엇인가

함수는 **일련의 동작을 실행하는 코드 블록**이다.

입력값인 매개변수를 받고, 일련의 처리를 거쳐 결과를 반환할 수 있다.

```jsx
javascript
복사편집
function add(x, y) {
  return x + y;
}
```

함수는 **정의**와 **호출**이라는 두 가지 방식으로 사용된다.

호출하지 않으면 실행되지 않는다.

---

### 2. 함수를 사용하는 이유

- **중복 제거**: 동일한 코드를 반복해서 작성할 필요가 없어진다.
- **구조화**: 기능 단위로 코드를 묶어 관리할 수 있다.
- **유지보수**: 수정이 필요한 부분만 함수 단위로 고치면 되므로 효율적이다.
- **재사용성**: 같은 함수를 다양한 입력에 따라 반복 사용 가능하다.
- **추상화**: 세부 로직을 감추고 인터페이스만 노출하여 복잡성을 줄일 수 있다.

---

### 3. 함수 리터럴

자바스크립트 함수는 **함수 리터럴로 생성**된다.

함수 리터럴은 function 키워드로 시작하며, 선택적 함수 이름, 매개변수 목록, 함수 몸체로 구성된다.

```jsx
javascript
복사편집
const foo = function bar(x) {
  return x * 2;
};
```

- 함수 이름은 생략 가능하다 → 익명 함수
- 함수 이름을 지정하면 함수 몸체 내부에서 자기 자신을 참조할 수 있다 → 기명 함수

---

### 4. 함수 정의 방식

| 방식 | 예시 |
| --- | --- |
| 함수 선언문 | `function foo() {}` |
| 함수 표현식 | `const foo = function() {}` |
| Function 생성자 | `const foo = new Function('x', 'return x')` |
| 화살표 함수 | `const foo = x => x` |

---

### 5. 함수 선언문과 함수 표현식의 차이

### 함수 선언문

- `function foo() {}` 형태로 정의된다.
- **호이스팅**되므로, 정의 전에 호출해도 오류가 발생하지 않는다.

```jsx
javascript
복사편집
console.log(foo()); // 가능
function foo() {
  return 1;
}

```

### 함수 표현식

- 변수에 함수 리터럴을 할당하는 방식이다.
- **호이스팅 시 undefined가 할당**되므로, 정의 전에 호출하면 오류가 발생한다.

```jsx
javascript
복사편집
console.log(bar()); // TypeError
const bar = function() {
  return 1;
};

```

---

### 6. Function 생성자

```jsx
javascript
복사편집
const add = new Function('x', 'y', 'return x + y');
```

Function 생성자는 런타임에 문자열을 코드로 평가하므로,

보안상 위험이 있고 디버깅도 어렵기 때문에 **실무에서는 사용하지 않는 것이 원칙**이다.

---

### 7. 화살표 함수 (Arrow Function)

화살표 함수는 **ES6에서 도입된 간결한 함수 표현식**이다.

`function` 키워드 대신 `=>`를 사용하며, **this 바인딩 방식**이 기존 함수와 다르다.

```jsx
javascript
복사편집
const add = (x, y) => x + y;
```

### 주요 특징

- **함수 선언보다 간결한 문법**
- **중괄호 생략 가능**: 표현식 1줄이면 암묵적으로 return
- **매개변수 1개**일 경우 괄호 생략 가능
- **this를 가지지 않음**: 상위 스코프의 this를 계승

```jsx
javascript
복사편집
const square = x => x * x;

const obj = {
  val: 100,
  foo: () => console.log(this.val)
};
obj.foo(); // undefined

```

화살표 함수는 `this`, `arguments`, `super`를 갖지 않으며

주로 콜백 함수나 간단한 처리에 사용된다.

---

### 8. 콜백 함수 (Callback Function)

콜백 함수란 **다른 함수의 인수로 전달되어, 일정 시점에 호출되는 함수**를 말한다.

```jsx
javascript
복사편집
function repeat(n, callback) {
  for (let i = 0; i < n; i++) {
    callback(i);
  }
}
repeat(3, console.log);

```

- 고차 함수(Higher-order function): 함수를 인수로 받거나 반환하는 함수
- 콜백은 비동기 처리, 이벤트, 반복 등에 유용하게 사용된다.

---

### 9. 즉시 실행 함수 (IIFE, Immediately Invoked Function Expression)

즉시 실행 함수란 **정의하자마자 즉시 호출되는 함수**를 말한다.

```jsx
javascript
복사편집
(function() {
  console.log('실행됨');
})();

```

- 주로 **초기화 코드**를 감싸고, **변수를 지역 스코프에 가두는 목적**으로 사용한다.
- 모듈화가 없던 시절 전역 오염을 방지하기 위해 널리 사용되었다.

---

### 10. 재귀 함수 (Recursive Function)

재귀 함수는 **자기 자신을 호출하는 함수**이다.

반복문 대신 사용할 수 있으며, 문제를 분할하여 해결할 때 유용하다.

```jsx
javascript
복사편집
function factorial(n) {
  if (n === 1) return 1;
  return n * factorial(n - 1);
}

```

재귀는 **종료 조건**을 반드시 포함해야 하며, 그렇지 않으면 무한 루프와 스택 오버플로우가 발생한다.

---

### 11. 중첩 함수 (Nested Function)

함수는 **다른 함수 내부에서 정의될 수 있으며**, 이를 **중첩 함수**라고 부른다.

```jsx
javascript
복사편집
function outer() {
  const name = 'JavaScript';

  function inner() {
    console.log(name);
  }

  inner();
}

```

- 중첩 함수는 외부 함수의 변수에 접근할 수 있다.
- 이 특성은 클로저의 기반이 된다.

---

### 12. 일급 객체로서의 함수

자바스크립트 함수는 다음 조건을 모두 만족하므로 **일급 객체(first-class object)**이다.

1. **리터럴로 생성할 수 있다**
2. **변수, 배열, 객체의 프로퍼티에 할당할 수 있다**
3. **함수의 인수로 전달할 수 있다**
4. **함수에서 반환할 수 있다**

```jsx
javascript
복사편집
function add(x, y) {
  return x + y;
}
const oper = add;
console.log(oper(2, 3)); // 5

```

이 덕분에 자바스크립트에서는 **함수형 프로그래밍이 가능**하며, **고차 함수, 커링, 파이프라인** 등의 패턴도 구현할 수 있다.

---

## ✅ 정리

| 항목 | 요약 |
| --- | --- |
| 함수 정의 방식 | 선언문, 표현식, 생성자, 화살표 함수 등 |
| 선언 vs 표현 | 선언은 호이스팅됨, 표현식은 아님 |
| 화살표 함수 | this 없음, 간결함, 콜백에 적합 |
| 콜백 함수 | 고차 함수의 핵심 구성 요소 |
| 즉시 실행 함수 | 한 번만 실행, 모듈화 용도 |
| 재귀 함수 | 자기 자신을 호출, 반드시 종료 조건 필요 |
| 중첩 함수 | 스코프 공유, 클로저 생성 가능 |
| 일급 객체 | 값처럼 다룰 수 있는 함수 |